

<nav
  *ngIf="!hideNavbar && activeProfile"
  class="navbar fixed-top navbar-expand-lg navbar-dark scroll"
  [ngClass]="{
    'scrolled': isScrolled,
    'media-margin': isMediaPage,
    'no-bg-navbar': isWatchlistPage && !isScrolled,
    'condensed': navCondensed,
    'hidden-until-hero': hideUntilHeroEnd && isDetailsPage,
    'kids-navbar': isKidsProfile
  }"
>

  <div class="navbar-inner d-flex align-items-center">

    <!-- ================= LEFT GROUP ================= -->
    <div class="nav-left-group d-flex align-items-center">

      <!-- LOGO -->
      <a
        class="navbar-brand logo"
        routerLink="/home"
        style="color: #db0000; font-weight: bold;"
      >
        MAIN <span class="small-text">CineWorld</span>
      </a>

      <!-- NAV CENTER (beside logo now) -->
      <div
        [ngClass]="{
          collapse: true,
          'navbar-collapse': true,
          show: !isCollapsed
        }"
        class="nav-center"
      >

        <ul class="navbar-nav">

          <li class="nav-item"
              routerLinkActive="active"
              [routerLinkActiveOptions]="{ exact: true }"
              *ngIf="showMenuItem">
            <a class="nav-link" routerLink="/home">Home</a>
          </li>

          <li class="nav-item dropdown"
              routerLinkActive="active"
              *ngIf="showMenuItem">

            <a class="nav-link dropdown-toggle"
               (click)="navigateWithFragment('movie-section')">
              Movies
            </a>

            <div class="dropdown-menu">
              <a class="dropdown-item" routerLink="/movies/now_playing/1">Now Playing</a>
              <a class="dropdown-item" routerLink="/movies/popular/1">Popular</a>
              <a class="dropdown-item" routerLink="/movies/top_rated/1">Top Rated</a>
              <a class="dropdown-item" routerLink="/movies/upcoming/1">Upcoming</a>
            </div>

          </li>

          <li class="nav-item dropdown"
              routerLinkActive="active"
              *ngIf="showMenuItem">

            <a class="nav-link dropdown-toggle"
               (click)="navigateWithFragment('tv-section')">
              TV Shows
            </a>

            <div class="dropdown-menu">
              <a class="dropdown-item" routerLink="/tvshows/on_the_air/1">On Air</a>
              <a class="dropdown-item" routerLink="/tvshows/popular/1">Popular</a>
              <a class="dropdown-item" routerLink="/tvshows/top_rated/1">Top Rated</a>
              <a class="dropdown-item" routerLink="/tvshows/airing_today/1">Airing Today</a>
            </div>

          </li>

          <li class="nav-item"
              [ngClass]="{ 'active': isCelebsPage }"
              *ngIf="showMenuItem">
            <a class="nav-link" routerLink="/people/1">Celebs</a>
          </li>

          <li class="nav-item"
              routerLinkActive="active"
              *ngIf="showMenuItem">
            <a class="nav-link" routerLink="/kids">Kids</a>
          </li>

        </ul>

      </div>

    </div>


    <!-- ================= RIGHT GROUP ================= -->
    <div class="nav-right d-flex align-items-center ms-auto">

      <!-- SEARCH -->
      <div *ngIf="showMenuItem && showSearch">

        <form class="form-inline my-2 my-lg-0"
              (submit)="redirectToSearch()">

          <div class="search-container">

            <div class="dropdown-select">
              <select (change)="selectSearchType($any($event.target).value)">
                <option value="multi">All üé¨</option>
                <option value="person">Celebs üë§</option>
                <option value="keyword">Keywords üîñ</option>
              </select>
            </div>

            <input
              type="text"
              [formControl]="searchControl"
              placeholder="Search anything..."
              (click)="$event.stopPropagation()"
            >

            <div class="search-dropdown" *ngIf="showDropdown">

              <div
                class="search-item"
                *ngFor="let item of searchResults"
                (click)="goToResult(item)"
              >

                <img
                  [src]="'https://image.tmdb.org/t/p/w200/' + (item.poster_path || item.profile_path)"
                  alt=""
                />

                <div class="search-info">
                  <h6>{{ item.title || item.name }}</h6>

                  <small>
                    {{ item.release_date?.substring(0,4) || item.first_air_date?.substring(0,4) }}
                    ‚≠ê {{ item.vote_average | number:'1.1-1' }}
                  </small>
                </div>

              </div>

              <div class="view-all"
                   (click)="redirectToSearch()">
                View All Results ‚Üí
              </div>

            </div>

            <button type="submit" class="search-btn">
              <i class="fa fa-search"></i>
            </button>

          </div>

        </form>

      </div>

      <!-- WATCHLIST -->
      <a routerLink="/watchlist"
         class="nav-link"
         routerLinkActive="active"
         *ngIf="showSearch">
        <i class="fa fa-bookmark"></i>
      </a>

      <!-- NOTIFICATIONS -->
      <div class="notification-bell"
           *ngIf="!isWelcomePage">
        <i class="fas fa-bell"></i>
        <span class="notification-count">0</span>
      </div>

      <!-- ACCOUNT -->
      <app-account-dropdown
        *ngIf="showAccountDropdown"
        [activeProfile]="activeProfile"
        [profiles]="profiles">
      </app-account-dropdown>

    </div>

  </div>

</nav>

