<div #cardRef
     class="hover-card"
     [class.fade-out]="isFadingOut"
     [ngStyle]="{
       top: position.top + 'px',
       left: position.left + 'px'
     }">

  <!-- TOP IMAGE -->
  <div class="hover-image">
    <img [src]="'https://image.tmdb.org/t/p/w500' + item.poster_path"
         [alt]="item.title || item.name" />

    <div class="hover-title">
      {{ item.title || item.name }}
    </div>
  </div>

  <!-- CONTENT -->
  <div class="hover-content">

    <!-- ACTION BUTTONS -->
    <div class="hover-actions">

      <!-- PLAY -->
      <button class="circle-btn play"
              (click)="goToDetails($event)">
        <i class="fa fa-play"></i>
      </button>

      <!-- WATCHLIST -->
      <button class="circle-btn"
              (click)="toggleWatchlist($event)">
        <i class="fa"
           [ngClass]="isInWatchlist ? 'fa-check text-success' : 'fa-plus'">
        </i>
      </button>

      <!-- LIKE -->
      <button class="circle-btn"
              (click)="triggerAuthToast($event)">
        <i class="fa fa-thumbs-up"></i>
      </button>

      <!-- EXPAND -->
    <button class="circle-btn arrow"
        (click)="toggleExpand($event)">
  <i class="fa"
     [ngClass]="expanded ? 'fa-chevron-up' : 'fa-chevron-down'">
  </i>
</button>

    </div>

    <!-- META -->
    <div class="hover-meta">
      <span class="badge age">16+</span>
      <span class="type">
        {{ mediaType === 'tv' ? 'Series' : 'Movie' }}
      </span>
      <span class="badge hd">HD</span>
    </div>

    <!-- GENRES -->
    <div class="hover-tags" *ngIf="genres.length">
      <span *ngFor="let g of genres; let last = last">
        {{ g }}<span *ngIf="!last"> â€¢ </span>
      </span>
    </div>

    <!-- OVERVIEW (Single Controlled Block) -->
<div class="hover-overview"
     [class.expanded]="expanded">
  <!-- <p>
    {{ expanded ? item.overview : shortOverview }}
  </p> -->

  <p>
  {{ shortOverview }}
</p>
</div>


  </div>
</div>

<!-- LOGIN TOAST -->
<div class="cinematic-toast" *ngIf="showAuthToast">
  <span>
    Please 
    <a (click)="goToLogin()" class="login-link">Login</a>
    to like this title
  </span>
</div>
