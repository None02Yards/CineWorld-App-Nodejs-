<div class="container pt-5 mt-5"> 

  <!-- Header: photo (left) + trailers (right) -->
   <div class="layoutbottom">
    <div class="row align-items-start g-4 mb-4 profile-header">
        <!-- Profile image -->
          <div class="col-xl-3 col-lg-4 col-md-5 text-center">
            <img
              class="img-fluid smooth-profile shadow rounded-3 profile-photo"
              [src]="profileSrc"
              alt="Profile"
              style="max-width: 250px;"
            />
          </div>

      <!-- Trailers beside the photo -->
      <div class="col-xl-9 col-lg-8 col-md-7">
        <section class="trailers-inline" *ngIf="trailers?.length">
          <div class="d-flex align-items-center justify-content-between mb-2">
            <h5 class="mb-0 border-start border-3 ps-2 border-warning">Trailers</h5>
            <small class="text-muted">{{ trailers.length }} clip{{ trailers.length > 1 ? 's' : '' }}</small>
          </div>

          <div class="trailers-inline-row" #inlineRow>
            <div class="clip" *ngFor="let t of trailers | slice:0:6; trackBy: trackById">
              <!-- thumbnail until play -->
              <div class="thumb" *ngIf="!t.playing" (click)="playTrailer(t)" [title]="t.title">
                <img
                  [src]="'https://image.tmdb.org/t/p/w780' + (t.poster || '')"
                  [alt]="t.title" loading="lazy"
                />
                <span class="play"><i class="fa fa-play"></i></span>
              </div>

              <!-- player once clicked -->
              <div class="player" *ngIf="t.playing">
                <iframe
                  [src]="t.urlAuto"
                  title="{{ t.title }} trailer"
                  frameborder="0"
                  allow="autoplay; encrypted-media; picture-in-picture"
                  allowfullscreen>
                </iframe>
                <button class="stop" (click)="stopTrailer(t)" aria-label="Stop trailer">
                  <i class="fa fa-times"></i>
                </button>
              </div>

              <a class="clip-title" [routerLink]="['/details', t.mediaType, t.id]">
                {{ t.title }}
              </a>
            </div>
          </div>
        </section>
      
    </div>
  </div>
</div>







<div class="row justify-content-center mb-5">
  <!-- Bio Section -->
  <div class="col-lg-8 col-md-7">
    <div class="bg-dark p-4 rounded shadow text-light h-100">
      <div class="d-md-flex align-items-start justify-content-between flex-wrap">
        <div class="mb-4">
          <h2 class="personname mb-2">{{ personData.name }}</h2>
          <h5 class="text-muted">Born: {{ personData.birthday }}</h5>
        </div>
        <div class="d-flex flex-wrap gap-2 mt-2">
  <span *ngFor="let role of roles" class="badge bg-warning text-dark px-3 py-1">
    {{ role }}
  </span>
</div>

        <div class="text-md-end mt-3 mt-md-0">
          <span class="badge bg-info text-dark p-2">Popularity: {{ personData.popularity | number:'1.0-0' }}</span>
        </div>
      </div>

  <div class="d-flex align-items-center justify-content-between flex-wrap mt-4 mb-4">
    <h4 class="mb-0 d-flex align-items-center">
      Biography <i class="fa fa-book-open ms-2"></i>
    </h4>
    <button class="add-to-list-btn mt-2 mt-md-0">
      <i class="fa fa-plus me-2"></i> Add to list
    </button>
  </div>

<!-- Biography Section -->
 <div>
  <div class="bio-snippet mt-2" [class.expanded]="showFullBio">
    {{ personData.biography }}
  </div>

  <!-- Toggle Button -->
  <button class="btn btn-sm btn-outline-warning mt-2" (click)="toggleBio()">
    {{ showFullBio ? 'Show Less' : 'Read More' }}
  </button>
 </div>
<!-- Contact Info Links  bio-snippet div) -->
<div class="contact-links mt-3">
  <a href="#" class="link">Contact info</a>
  <span class="dot">·</span>
  <a href="#" class="link">Agent info</a>
  <span class="dot">·</span>
  <a href="#" class="link">Resume</a>
</div>


</div>
</div>

  <!-- More to Explore -->
<div class="col-lg-4 col-md-5 mt-4 mt-md-0">
  <div class="bg-dark text-light rounded shadow overflow-hidden h-100 d-flex flex-column p-3 more-to-explore">

    <div class="d-flex align-items-center mb-3">
      <div class="border-start border-4 me-2" style="border-color: #f8c700; height: 1.5rem;"></div>
      <h5 class="mb-0 fw-bold" style="color: #f8c700;">More to explore</h5>
    </div>

<div class="d-flex flex-column gap-3">
  <a
  *ngFor="let celeb of moreToExploreCelebs"
  [routerLink]="['/person', celeb.id]"
  class="d-flex align-items-center gap-3 text-decoration-none zoom-card"
>
  <div class="img-wrapper">
    <img
      [src]="'https://image.tmdb.org/t/p/w185' + celeb.profile_path"
      alt="{{ celeb.name }}"
      class="rounded shadow-sm celeb-img"
      style="width: 60px; height: 60px; object-fit: cover;"
    />
  </div>
  <div>
    <h6 class="mb-0 text-light">{{ celeb.name }}</h6>
    <small style="color: #ffbb55;">Popularity: {{ celeb.popularity | number:'1.0-0' }}</small>
  </div>
</a>

</div>


    <!-- Footer -->
    <div class="border-top pt-3 mt-3 text-end">
      <a routerLink="/people/1" class="fw-semibold" style="color: #ffbb55;">See the gallery</a>
    </div>
  </div>
</div>


</div>



<div class="mt-5">
  <div class="d-flex align-items-center mb-4">
        <h4 class="mb-3 border-start border-3 ps-2 border-warning">Known For</h4>

  </div>
  <!-- Poster Cards -->
  <div class="row justify-content-center">
  <div *ngFor="let item of knownFor.slice(0, 6)" class="col-md-2 col-6 mb-4">
    <div class="poster known-for-card position-relative">
      <!-- image-only container -->
      <div class="img-wrap">
        <img
          class="poster-img"
          [src]="'https://image.tmdb.org/t/p/original/' + item?.poster_path"
          [alt]="item.name || item.original_title"
          loading="lazy"
        />

        <!-- Hover Layer (now only over the image) -->
        <div class="layer">
          <a class="bg-transparent" [routerLink]="['/details', item.media_type, item.id]">
            <i class="fa text-dark fa-2x fa-play-circle" aria-hidden="true"></i>
          </a>
          <p class="text-dark font-weight-bolder mt-2">See more!</p>
        </div>
      </div>

      <!-- stays outside the img overlay -->
      <app-rating-circle class="rating-badge" [rating]="item.vote_average"></app-rating-circle>
    </div>

    <h6 class="text-center text-light mt-2">{{ item.name || item.original_title }}</h6>
  </div>
</div>

</div>
<!-- Back Arrow -->

<div class="d-flex justify-content-center mt-4">
  <button class="back-arrow-btn" (click)="goBack()" aria-label="Back">
    <i class="fa fa-arrow-left fa-lg"></i>
  </button>
</div>



</div>


